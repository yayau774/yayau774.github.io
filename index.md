# Pagesによる日記だ
[まーくあっぷの例](https://docs.kkgithub.com/ja/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax#lists)

## 2024-09-17
ふしぶしがいたい。

### Nuxtとか
せっしょんめんどくせえ！！！　となり、phpさばを別に立ててNuxt3をAPIとDBのためだけに使うことにした。  
> form(php) - fetch(php) --- nuxt(api)  
APIはサービス間の窓口って意味らしいけど、つまりこういうことなんだなあ……。

dockerコンテナで起動したビルトインサーバからlocalhostのnuxt3にfetchしに行って失敗。  
原因は二つあって、ひとつはコンテナ内からlocalhostに行こうとすると、dockerが動いてるPCじゃなくてコンテナ内を見に行ってしまうこと。  
対処法は、dockerコンテナからPCのlocalhostを見に行くときにhost.docker.internalを使う。

もうひとつは、Nuxt3のdevコマンドはデフォルトでは外部からの通信を受け付けないようになっていること。  
対処法は、Nuxt3のdevを外部にも出すために nuxt dev --host とすること。  
これをやっても完全に外部に公開するわけじゃないっぽいのでそんなに恐れなくてもよさそう？  
少なくともじぶんのIPアドレス直で入れても接続には失敗した。

## 2024-09-16
『高校生だけじゃもったいない　仕事に役立つ新・必修科目「情報Ⅰ」 』読了。  
面白かったんだけど、教育内容のギャップにびっくりした……。

### Nuxtとかの
Prisma-Postgresは無事になんとかなりそう。

認証どうしようかなーって@sidebase/nuxt-authを触り、JWTとsession両方……？！とびびった。  
このlucia2.0ってやつはどうなんだとみてみたら、セッション管理にDBをべたべた触っている。  
PHPでｴｲｯとやったら軽々と出来てたけど、もしかして認証は意外とめんどくさいのか？

## 2024-09-15
V Rising、設定のせいでめんどくささが出てきた。  
1人で遊ぶならテレポ制限外しとくべきだなー。

### Rogalia
獲れ高が低いという理由で豚を滅ぼした。早まったかもしれん。
でも牛とか馬のほうが肉多いから……。

### Nuxtとかの
Mongoose、くせがつよくてやりにくい……。  
定期げーに関して言うならRDBでいいのかも。

## 2024-09-14
V Rising無料期間。けっこうおもしろい。

### Rogalia
Qたかい肉どこいったんだろう……。

木の植え替えをめんどくさがってるから全然進んでない。ガラスも作らなきゃ……。

### Nuxt
Mongooseの強制複数形にビビる。げきおこ。option: { collection: '任意の名前' } で出来たのでゆるしてあげよう。  

VercelにデプロイしたらMongoDB Atlasへの接続で504エラーが発生し、よくわからんまま直った。
.envの反映が遅かったのか、MongoDB AtlasのIPブロックリストの修正反映が遅かったのか。いじったのはその辺のはず。


## 2024-09-13
これ月日はともかく年はいらないのではないか？

### Rogalia
肉集めがめんどくさいし豚はぜんぜんまともな雄が生まれない。

### Nuxt
Prisma + MongoDB!　→　PrismaはMongoDBとあんまり仲が良くない。Nuxt-mongooseにしよ……。  
脆弱性があるぞ！と脅されたけど実際には脆弱性の直ったバージョンが使われているようだ。よかった。

PrismaのMongoDB接続文字列は、mongo+srv://<user>:<pass>@<host>/<任意のDB名>。存在しないDBだったら勝手に作ってくれる。


## 2024-09-12
シャベルじゃなくてショベルが正式名称。JISもそういってる。

### Rogalia
先に作成をあげることにした。しかしここからサブキャラの50を超えるのはだいぶかかりそう。

### Nuxt
もしかしてこれ、私が求めているものではないのでは？となった。まあサーバーサイドでAPIをやってくれるというのは超えらいので、使いたくなる時もありそう。無駄にはならないはず。

Prismaべんり！　既存のデータベースを相手にしようとしたときも db pull でなんとかなる。まるで魔法のようだ。


## 2024-09-11
ブルボンの新作ラングレイス、味はいいけどぼろぼろ崩れるので多分リピートはしない。

### Rogalia
農業100。石工とかをあげられるようになったけど栄養素600以上使って10→13。やべえ。
錬金100にしないで作成系あげるほうがいいか…？　赤って肉だから高Q食を作りにくいんだよな。  
豚は1対追加した。雄はq1*2、雌はq2q3。早くよい雄が生まれてほしい。繁殖は24hじゃなくて36hかも。

### Nuxt
(jsonplaceholder)[https://jsonplaceholder.typicode.com/]、べんり。  
useFetchを試したり、useNuxtConfigでpublicにしてない値を見に行ってエラーを起こしたりした。

NuxtだとDB触りに行くのにPrismaとか使ったほうがいいのかなー？というかんじ。  
バックエンドがPHPだと最初から組み込まれてたから何も意識してなかったなあ。


## 2024-09-10
コミット成功してた。よかった。

### Rogalia
農業99.7。豚は雌雄2対以上いるほうがいいかな。1日1出産っぽい。
耕耘機の運転速度ってQ依存か？　なんか遅い気がする……。

### Nuxt
動画見たけどぜんぜん頭に入ってこない！　レンダリングとuseFetchまわり。


## 2024-09-09
りすがいたので写真を撮った。尾を含まずに体長22-27cmらしい。思ったよりデカい。

昨日はこの日記のコミットに成功した後、デプロイ？に失敗していたらしい。Actionsのログにそう出ていた。  
もう一回やってよーというやつを押したはずなんだけど、現時点でもまだQueued。なんかコミットしないとだめなのかな。


### Rogalia
料理100、農業99.4。アップルパイで農業100を目指しましょう。明日か明後日か。  
そのあとの錬金術とかはキャロットケーキとフライドチキンでいいかな……。  

錬金術100になったら木工とかの赤ステータスをやっていく……んだけど、上がる料理がなかなか難しい。バナナ生食？　Q1肉でミートパイでもいいけど。

### Nuxt
[コード書かずに動画を見ている。](https://www.youtube.com/watch?v=fTPCKnZZ2dk)  
ぎよーむはフランス語圏の名前らしい。結構発音に癖がある…？　どうせ字幕だよりだからいいんだけど、字幕は字幕でNuxt3がNux-freeとかになる。自動だからしょうがないね。

actuallyって単語がいっぱい出る。「まさに」「じつは」とかの意味らしいんだけど、もしかして「まじで」くらいの使い方なのか？


## 2024-09-08
Rogalia、料理99.96。豚を飼い始めた。

[『とんでもない死に方の科学』](https://www.kawade.co.jp/np/isbn/9784309253848/)読了。おもしろかった。  
きんたまを蜂に刺されたことをきっかけに、部位ごとに痛みの感度を調べる男、すごい……。

### Nuxtの勉強
CSSちょっと増やして記事コンポーネントの土台を作ったぞ。  
いまのCSSはネイティブで入れ子指定できるんだねえ。すごい。かなり楽になった。  
Vueのことはしばらく前に触ったっきりで、だいぶ忘れてる。思い出したり覚えたりしていきましょう。



## 2024-09-07
Rogalia、料理が99.60を超えている。クロワッサンづくりは終わっていいかな……。  
農業ステータスはニンジンだったかリンゴだったか、どちらにせよ小麦の生地と合わせて焼くだけ。  
料理が100になったら剣術/陶器/釣りをあげられるんだっけ？  
陶器やろうとすると採掘もあがっちゃうんで注意しとかないとね。  

### Nuxtの勉強
ブログっぽいもの作るぞ！ということで[やっている](https://nuxt-blog-beta-woad.vercel.app/)。  
今日はcssとtemplateだけのコンポーネント作ってみたぞ。importが自動でなされるの、ありがたいねえ。  


## 2024-09-06
GitHubの勉強をちょっとやりなおした。といってもGitHub - VSCode 間の連携くらいなんだけど。

### Nuxtの勉強
app.vueがある → &lt;NuxtPage&gt;がURLに対応する/page以下のコンポーネントになる。  
なので、app.vueの中にNuxtPageがある状態で/indexを開くと、app.vueの中に/page/index.vueを読み込んだかたちで出てくる……でいい？

というかNuxt4使ってみたかったんだけどまだリリースされてないという。  
Nuxt3からNuxt4に移行しようとするとディレクトリ構成が変わるらしく、やだなー。

ふつうにやるときはbuild、静的ホスティングをやりたいときはgenerateする。  
nuxt.config.tsでssr:falseしてgenerateするとnode.js使えないところでも置けるっぽい？  
よくわからん。

generateしたサイトをVSCodeのLiveServerで開いてみたらMIMEタイプエラーが起きてあきらめかけたんですが、LiveServerのルートディレクトリを指定することでなんとかなりました。


